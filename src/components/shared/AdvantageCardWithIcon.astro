---
import clsx from "clsx";
import { CircleCheck } from "lucide-react";

interface Props {
  title: string;
  data: string[];
  cardClassName?: string;
}

const { data, title, cardClassName } = Astro.props;
---

<div class="bg-slate-100 dark:bg-[#0f172a80] p-10 rounded-xl" id="advIconCardsContainer">
  <h2 class="text-center text-4xl font-medium" id="advIconsTitle">
    {title}
  </h2>

  <div
    class={clsx(
      "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mt-20",
      cardClassName
    )}
  >
    {
      data.map((desc) => (
        <div class="flex gap-2 advIconCards">
          <div>
            <CircleCheck size={36} color="#3b82f6" />
          </div>
          {desc}
        </div>
      ))
    }
  </div>
</div>

<script>
  import { gsapTrigger } from "@/lib/gsapTrigger";

  document.addEventListener("DOMContentLoaded", () => {
    const cards = document.querySelectorAll(".advIconCards");
    const advantageSectionContainer = document.getElementById(
      "advIconCardsContainer"
    );
    const advantageTitle = document.getElementById("advIconsTitle");

    if (advantageSectionContainer) {
      const tl = gsapTrigger(advantageSectionContainer);
      tl.fromTo(
        advantageTitle,
        { y: 50, opacity: 0, scale: 0.8 },
        { y: 0, opacity: 1, duration: 0.5, scale: 1 }
      );
      cards.forEach((card) => {
        tl.fromTo(
          card,
          { y: 50, opacity: 0 },
          {
            y: 0,
            opacity: 1,
            duration: 0.2,
          }
        );
      });
    }
  });
</script>
